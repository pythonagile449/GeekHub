{% extends 'base.html' %}
{% load static %}
{% load martortags %}

{% block title %}
    {{ title }} :: {{ block.super }}
{% endblock %}

{% block css %}
    <link href="{% static 'plugins/css/ace.min.css' %}" type="text/css" media="all" rel="stylesheet"/>
    <link href="{% static 'martor/css/martor.bootstrap.min.css' %}" type="text/css" media="all" rel="stylesheet"/>
{% endblock %}

{% block toolbar %}
    {% include '_inc/profile_toolbar.html' %}
{% endblock %}

{% block content %}
    <div class="content-container">
        <div class="section-left">
            {% for article in articles %}
                <div class="section-indent"></div>
                <div class="author-data">
                    <ul class="author-data">
                        <li><img src="{% static 'svg/icon2.svg' %}" alt="icon"></li>
                        <li>
                            <h6-1>{{ article.author.username }}</h6-1>
                        </li>
                        <li>
                            <h6-2>{{ article.publication_date }}</h6-2>
                        </li>
                        <li>
                            <h6-2>{{ article.hub.name }}</h6-2>
                        </li>
                    </ul>

                </div>

                <div class="section-left-title">
                    <h5-1>
                        <a class="article-heading-link" href="{% url 'mainapp:article_detail' article.pk %}"
                           style="">
                            {{ article.title }}
                        </a>
                    </h5-1>
                </div>



<!--                <div class="section-left-text">-->
<!--                    {% if article.editor == 'CK' %}-->
<!--                        <div class="ck-preview">-->
<!--                            {{ article.get_article_preview|safe|truncatechars:500 }}-->
<!--                        </div>-->
<!--                    {% elif article.editor == 'MD' %}-->
<!--                        <div class="martor-preview">-->
<!--                            {{ article.get_article_preview|safe_markdown|truncatechars:500 }}-->
<!--                        </div>-->
<!--                    {% endif %}-->
<!--                </div>-->
<!--                {% if article.is_draft %}-->
<!--                    <a href="{% url 'mainapp:edit_draft' article.pk %}">-->
<!--                        <button class="button18" type="button">Редактировать</button>-->
<!--                    </a>-->
<!--                    <a href="{% url 'mainapp:send_article_on_moderation' article.pk %}">-->
<!--                        <button class="button16" type="button">Отправить на модерацию</button>-->
<!--                    </a>-->
<!--                    <a href="{% url 'mainapp:user_article_delete' article.pk %}">-->
<!--                        <button class="button17" type="button">Удалить</button>-->
<!--                    </a>-->
<!--                {% elif article.is_published %}-->
<!--                    <a href="{% url 'mainapp:user_article_to_drafts' article.pk %}" class="button18">Снять с-->
<!--                        публикации</a>-->
<!--                {% elif article.is_moderation_in_progress %}-->
<!--                    <a href="{% url 'mainapp:user_article_to_drafts' article.pk %}" class="button18">Снять с-->
<!--                        модерации</a>-->
<!--                    {% if user.is_staff %}-->
<!--                        <a href="{% url 'mainapp:article_publication' article.pk %}"-->
<!--                           class="button18">Опубликовать</a>-->
<!--                    {% endif %}-->
<!--                {% endif %}-->
<!--            {% endfor %}-->
        </div>

        <div class="section-right">

            <div class="section-right-block">

            </div>

        </div>
    </div>
{% endblock %}

{% block js %}
    <script type="text/javascript" src="{% static 'plugins/js/highlight.min.js' %}"></script>
    <script>
        $('.martor-preview pre').each(function (i, block) {
            hljs.highlightBlock(block);
        });
    </script>
{% endblock %}