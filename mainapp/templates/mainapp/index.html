{% extends 'base.html' %}
{% load static %}
{% load martortags %}

{% block css %}
    <link href="{% static 'plugins/css/ace.min.css' %}" type="text/css" media="all" rel="stylesheet"/>
    <link href="{% static 'martor/css/martor.bootstrap.min.css' %}" type="text/css" media="all" rel="stylesheet"/>
{% endblock %}

{% block title %}
    {{ title }} :: {{ block.super }}
{% endblock %}

{% block toolbar %}
    <div class="section-title">
        <h2>
            {% if active_hub %}
                {{ active_hub }}
            {% else %}
                Все хабы
            {% endif %}
        </h2>
    </div>

    <div class="section-menu"></div>

    </div>
{% endblock %}

{% block content %}
    <div class="content-container">
        <div class="section-left">
            {% for article in articles %}
                <div class="section-indent"></div>
                <div class="author-data">
                    <ul class="author-data">
                        <li><img src="{% static 'svg/icon2.svg' %}" alt="icon"></li>
                        <li>
                            <h6-1>{{ article.author.username }}</h6-1>
                        </li>
                        <li>
                            <h6-2>{{ article.publication_date }}</h6-2>
                        </li>
                    </ul>
                </div>

                <div class="section-left-title">
                    <h2>
                        <h2-2>
                            <a class="article-heading-link" href="{% url 'mainapp:article_detail' article.pk %}"
                               style="">
                                {{ article.title }}
                            </a>
                        </h2-2>
                    </h2>
                </div>

                <div class="chapter">
                    <h6-3>{{ article.hub.name }}</h6-3>
                </div>

                <div class="section-left-text">
                    {% if article.editor == 'CK' %}
                        <div class="ck-preview">
                            {{ article.contents_ck|safe }}
                        </div>
                    {% elif article.editor == 'MD' %}
                        <div class="martor-preview">
                            {{ article.contents_md|safe_markdown }}
                        </div>
                    {% endif %}
                </div>

                <div class="open-text">
                    <a href="{% url 'mainapp:article_detail' article.pk %}" class="button2">Читать далее</a>
                </div>

                <div class="like-comment">
                    <ul class="lvc-field">
                        <li><div class="lvc-group">
                            <ul class="lvc-group">
                                <li><img src="{% static 'svg/chart.svg' %}" alt="like"></li>
                                <li><h5-2-lvc>+56</h5-2-lvc></li>
                            </ul>
                        </div></li>
                        <li><div class="lvc-group">
                            <ul class="lvc-group">
                                <li><img src="{% static 'svg/carbon_view-filled_active.svg' %}" alt="view"></li>
                                <li><h5-2-lvc>435</h5-2-lvc></li>
                            </ul>
                        </div></li>
                        <li><div class="lvc-group">
                            <ul class="lvc-group">
                                <li><a href="/"><img src="{% static 'svg/fluent_comment-24-filled_active.svg' %}" alt="comm"></a></li>
                                <li><h5-2-lvc>12</h5-2-lvc></li>
                            </ul>
                        </div></li>
                    </ul>
                </div>
            {% endfor %}


        </div>

        <div class="section-right">

            <div class="section-right-block">

            </div>

        </div>
    </div>
{% endblock %}

{% block js %}
    <script type="text/javascript" src="{% static 'plugins/js/highlight.min.js' %}"></script>
    <script>
        $('.martor-preview pre').each(function (i, block) {
            hljs.highlightBlock(block);
        });
    </script>
{% endblock %}